
<h1>Exception Graph</h1>
<style type="text/css">
   body {
      margin: 0;
    }
    #sigmacontainer {
      position: absolute;
      width: 100%;
      height: 100%;
    }
</style>
<div id="sigmacontainer"></div>
<script type="text/javascript">
  var g = {nodes: [], edges: []};
  
    // Then, let's add some data to display:

    <% @graph.nodes.each do |node| %>
      g.nodes.push({ 
        id: '<%= node.node_id %>',
        label: '<%= node.node_label %>',
        size: 1,
        color: '#00f',
        x: <%= node.x_position %>,
        y: <%= node.y_position %>
      });
      
    <% end %>

    <% @graph.edges.each do |edge| %>
      g.edges.push({ 
        id: '<%= edge.edge_id %>',
        source: '<%= edge.source %>',
        target: '<%= edge.target %>'
      });
    <% end %>

    var s = new sigma({graph: g, container: 'sigmacontainer'});
    // Finally, let's ask our sigma instance to refresh:
    s.refresh(); 
  </script>
</script>
