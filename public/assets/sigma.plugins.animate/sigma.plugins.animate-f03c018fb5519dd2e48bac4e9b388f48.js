(function(){"use strict";function a(a){if(t[a])return t[a];var n=[0,0,0];return a.match(/^#/)?(a=(a||"").replace(/^#/,""),n=3===a.length?[parseInt(a.charAt(0)+a.charAt(0),16),parseInt(a.charAt(1)+a.charAt(1),16),parseInt(a.charAt(2)+a.charAt(2),16)]:[parseInt(a.charAt(0)+a.charAt(1),16),parseInt(a.charAt(2)+a.charAt(3),16),parseInt(a.charAt(4)+a.charAt(5),16)]):a.match(/^ *rgba? *\(/)&&(a=a.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/),n=[+a[1],+a[2],+a[3]]),t[a]={r:n[0],g:n[1],b:n[2]},t[a]}function n(n,i,t){n=a(n),i=a(i);var r={r:n.r*(1-t)+i.r*t,g:n.g*(1-t)+i.g*t,b:n.b*(1-t)+i.b*t};return"rgb("+[0|r.r,0|r.g,0|r.b].join(",")+")"}if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.plugins");var i=0,t={};sigma.plugins.animate=function(a,t,r){function e(){var i=(sigma.utils.dateNow()-u)/c;i>=1?(a.graph.nodes().forEach(function(a){for(var n in t)n in t&&(a[n]=a[t[n]])}),a.refresh(),"function"==typeof s.onComplete&&s.onComplete()):(i=g(i),a.graph.nodes().forEach(function(a){for(var r in t)r in t&&(a[r]=r.match(/color$/)?n(m[a.id][r],a[t[r]],i):a[t[r]]*i+m[a.id][r]*(1-i))}),a.refresh(),a.animations[o]=requestAnimationFrame(e))}var s=r||{},o=++i,c=s.duration||a.settings("animationsTime"),g="string"==typeof s.easing?sigma.utils.easings[s.easing]:"function"==typeof s.easing?s.easing:sigma.utils.easings.quadraticInOut,u=sigma.utils.dateNow(),m=a.graph.nodes().reduce(function(a,n){var i;a[n.id]={};for(i in t)i in n&&(a[n.id][i]=n[i]);return a},{});a.animations=a.animations||Object.create({}),sigma.plugins.kill(a),e()},sigma.plugins.kill=function(a){for(var n in a.animations||{})cancelAnimationFrame(a.animations[n])}}).call(window);